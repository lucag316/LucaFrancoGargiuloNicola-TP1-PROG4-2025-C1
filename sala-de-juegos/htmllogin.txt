





<!--
Componente: Login
Descripción: 
    Muestra un formulario de inicio de sesión donde el usuario debe ingresar su nombre de usuario 
    y contraseña. Al enviar el formulario, se ejecuta la función onLogin().
Notas:
    - Utiliza Angular Forms (ngForm) para validación del formulario.
    - Enlace al registro si el usuario no tiene cuenta.
-->

<div class="login-container">

    <!-- Tarjeta de login -->
    <div class="login-card">
        <!-- Título del formulario -->
        <h2 class="login-title">Iniciar Sesión</h2>
        
        <!-- Formulario de login -->
        <form (ngSubmit)="onLogin()" #loginForm="ngForm" novalidate> <!-- (ngSubmit)="onLogin()": cuando el usuario envie el form, se ejecuta la funcion onLogin-->

            <!-- Campo de entrada: Usuario -->
            <div class="form-group">
                <label for="username">Usuario</label>
                <input 
                    type="text" 
                    id="username" 
                    name="username" 
                    class="form-input" 
                    required 
                    minlength="3"
                    [(ngModel)]="username"
                    #usernameModel="ngModel"
                    [ngClass]="{'invalid-input': usernameModel.invalid && usernameModel.touched}"
                >
                <!-- Mensaje de error -->
                <div class="error-message" *ngIf="usernameModel.errors && usernameModel.touched">
                    <span *ngIf="usernameModel.errors['required']">El nombre de usuario es obligatorio.</span>
                    <span *ngIf="usernameModel.errors['minlength']">El nombre de usuario debe tener al menos 3 caracteres.</span>
                </div>
            </div>

            <!-- Campo de entrada: Contraseña -->
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input 
                    type="password" 
                    id="password" 
                    name="password" 
                    class="form-input" 
                    required 
                    minlength="3"
                    [(ngModel)]="password"
                    #passwordModel="ngModel"
                    [ngClass]="{'invalid-input': passwordModel.invalid && passwordModel.touched}"
                >
                <!-- Mensaje de error -->
                <div class="error-message" *ngIf="passwordModel.errors && passwordModel.touched">
                    <span *ngIf="passwordModel.errors['required']">La contraseña es obligatoria.</span>
                    <span *ngIf="passwordModel.errors['minlength']">La contraseña debe tener al menos 3 caracteres.</span>
                </div>
            </div>

            <!-- Botón de envío -->
            <div class="form-group">
                <button 
                    type="submit" 
                    class="login-button" 
                    [disabled]="!loginForm.form.valid || isLoading">
                    <span *ngIf="!isLoading">Iniciar Sesión</span>
                    <span *ngIf="isLoading">Cargando...</span>
                </button>
            </div>
        </form>

        <!-- Enlace a la página de registro -->
        <div class="register-link">
            <p>¿No tienes cuenta? 
                <a routerLink="/register">Registrarse</a>
            </p>
        </div>
    </div>
</div>