
<div class="navbar-container">
    <nav class="navbar">
        
        <!-- IZQUIERDA: Logo y tÃ­tulo -->
        <a routerLink="/home" class="navbar-brand">
            <img src="assets/images/logoNav.png" alt="Logo" class="navbar-logo">
            <span class="navbar-title">LucaGames</span>
        </a>

        <!-- BOTÃ“N HAMBURGUESA (solo visible en mobile) -->
        <button class="hamburger" (click)="toggleMenu()" aria-label="MenÃº de navegaciÃ³n">
            â˜°
        </button>

        <!-- CENTRO (desktop only) -->
        <div class="navbar-center desktop-only">
            <a routerLink="/home" routerLinkActive="active-link">Home</a>
            <a routerLink="/quien-soy" routerLinkActive="active-link">QuiÃ©n Soy</a>
            <a *ngIf="usuarioLogueado" routerLink="/chat" routerLinkActive="active-link">Chat</a>
        </div>

        <!-- DERECHA: Login/Logout (desktop only) -->
        <div class="navbar-right desktop-only">
            <ng-container *ngIf="!usuarioLogueado">
                <button (click)="irALogin()" class="navbar-button" [ngClass]="{ 'active-link': rutaActual === '/login' }">Login</button>
                <button (click)="irARegister()" class="navbar-button" [ngClass]="{ 'active-link': rutaActual === '/register' }">Sign Up</button>
            </ng-container>

            <ng-container *ngIf="usuarioLogueado">
                <span class="usuario-nombre">ðŸ‘¤ {{ username }}</span>
                <button (click)="cerrarSesion()" class="navbar-button">Cerrar SesiÃ³n</button>
            </ng-container>
        </div>

    </nav>

    <!-- MENÃš DESPLEGABLE DESDE LA DERECHA (solo mobile) -->
    <div class="side-menu" [class.abierto]="menuAbierto">
        <div class="side-menu-header">
            <span class="usuario-nombre">ðŸ‘¤ {{ username }}</span>
            <button class="cerrar-menu" (click)="toggleMenu()">âœ•</button>
        </div>

        <div class="side-menu-content">
            <p class="menu-title">MENÃš</p>
            <a routerLink="/home" (click)="toggleMenu()" routerLinkActive="active-link">Home</a>
            <a routerLink="/quien-soy" (click)="toggleMenu()" routerLinkActive="active-link">QuiÃ©n Soy</a>

            <!-- OPCIONES SI ESTÃ LOGUEADO -->
            <ng-container *ngIf="usuarioLogueado; else noLogueado">
                <a routerLink="/chat" (click)="toggleMenu()" routerLinkActive="active-link">Chat</a>
                <button class="navbar-button" (click)="cerrarSesion()">Cerrar SesiÃ³n</button>
            </ng-container>

            <!-- OPCIONES SI NO ESTÃ LOGUEADO -->
            <ng-template #noLogueado>
                <button class="navbar-button" (click)="irALogin(); toggleMenu()" [ngClass]="{ 'active-link': rutaActual === '/login' }">Login</button>
                <button class="navbar-button" (click)="irARegister(); toggleMenu()" [ngClass]="{ 'active-link': rutaActual === '/register' }">Sign Up</button>
            </ng-template>
        </div>
    </div>

    <!-- FONDO OSCURO DETRÃS DEL MENÃš -->
    <div class="side-menu-backdrop" *ngIf="menuAbierto" (click)="toggleMenu()"></div>
</div>